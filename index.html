<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map test</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet"> 
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Fira sans', sans-serif;
        }
        .mapcontainer{
            height: 100vh;
            margin: auto;
            position: relative;
            width: 100%;
            overflow: hidden;
        }
        #mapid{
            height: 100%;
            width: 100%;
            position: relative;
        }
        .Lsidepanel, .LsideFilterpanel{
            width: 40%;
            max-width: 550px;
            height: 100%;
            background: white;
            position: absolute;
            top: 0;
            right: 0;
            z-index: 7000;
            opacity: 0.5;
            transition: 0.6s ease;
            transform: translateX(200%);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border-left: 1px solid rgb(167, 167, 167);
        }
        .LsidepanelInner, .LsideFilterpanelInner{
            width: 100%;
            padding: 6%;
            overflow: auto
        }
        .Lsidepanel.active, .LsideFilterpanel.active{
            opacity: 1;
            transform: translateX(0)
        }

        .Lleftpanel{
            width: 150px;
            height: 100%;
            background: #16AFD1;
            padding: 2rem 1rem;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 7000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-direction: column;
            overflow: hidden;
        }
        .LleftpanelIconGrp{
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 3.5rem;
            color: white;
            cursor: pointer;
            transition: 0.4s ease;
        }
        .LleftpanelIconTxt{
            margin-top: 1rem;
        }

        .LleftpanelIconGrp.active{
            transform: scale(1.1);
            color: #005182;
            font-weight: 700;
        }
        .LleftpanelIconGrp.active path{
            fill: #005182;
        }

        .popupCustom .leaflet-popup-content-wrapper {
        background: #87c0e0;
        color: #234c5e;
        }

        .leaflet-popup-tip{
            display: none;
        }
        .Lheader{
            width: 100%;
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        .LlistBtn{
            border: 1px solid rgb(148, 147, 147);
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            margin-right: 2rem;
            cursor: pointer;
            display: none;
        }

        .LcloseMenu, .LcloseMenuList, .LlistItem{
            cursor: pointer;
        }

        .Ltitle{
            margin: 4rem 0 2rem 0;
            font-weight: 800;
            font-size: 1.8rem;
            color: #2d353f;
        }
        .LtitleRsp{
            font-weight: 800;
            font-size: 12px;
            color: #2d353f;
            display: none;
        }

        .Linformation, .Llist{
            padding: 1rem 0;
        }

        .Lcontent{
            display: flex;
            align-items: center;
            margin: 2rem 0 1rem 0;
        }

        .Lcontent svg{
            flex-shrink: 0;
            width: 20px;
            height: auto;
        }

        .Ladress, .Lphone, .Lwebsite{
            margin-left: 0.5rem;
        }

        .Lwebsite{
            color: #16AFD1;
        }

        .LfilterService, .LfilterHebergement, .LfilterRestauration, .LfilterTout, .LfilterActivite{
            border: 2px solid rgba(22, 175, 209, 1);
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            margin: 1rem 0;
            color: rgba(22, 175, 209, 1);
        }

        .activeFilter{
            border: 3px solid #307199;
            color: #307199;
            font-weight: 600;
        }
        .Limage{
            width: 100%;
            height: auto;
        }

        @media only screen and (max-width: 1024px) {
            .Lsidepanel{
                width: calc(100% - 80px);
                max-width: unset;
                height: 35%;
                top: unset;
                bottom: 0;
                right: 0;
                overflow: hidden;
                border-left: unset;
            }
            .LsidepanelInner{
                padding: 1rem;
            }
            .Lleftpanel{
                width: 80px;
            }
            .LleftpanelIconGrp{
                font-size: 10px;
                margin-bottom: 1.6rem;
            }

            .LleftpanelIconGrp svg{
                width: 36px;
                height: auto;
            }

            .LleftpanelIconTxt{
                margin-top: 0.5rem;
            }

            .LleftpanelLogo svg{
                width: 60px;
                height: auto;
            }
            .Lcontent{
                margin: 1rem 0 0.5rem 0;
                font-size: 10px;
            }
            .Ltitle{
                font-weight: 800;
                font-size: 14px;
                margin: 0;
                position: absolute;
                top: -20px;
            }
            .LcloseMenu{
                margin: 0.5rem;
                width: 15px;
                height: auto;
            }
            .LsidepanelContent{
                display: flex;
                position: relative;
                justify-content: center;
                align-items: center;
            }
            .LsidepanelContentLeft{
                max-width: 50%;
            }
            .Linformation{
                min-width: 50%;
                height: unset;
                padding: 0;
            }
            .Limage{
                max-width: 80%;
                max-height: 200px;
                width: auto;
                margin-top: 1rem;
            }
        }
        @media only screen and (max-width: 480px) {
            .Limage{
                display: none;
            }
            .LtitleRsp{
                display: block;
            }
            .Ltitle{
                display: none;
            }
        }

    </style>
</head>
<body>
    <div class="mapcontainer">
        <div id="mapid"></div>
        <div class="Lsidepanel">
            <div class="LsidepanelInner">
                <div class="Lheader">
                    <div class="LlistBtn">Retour à la liste</div>
                    <svg class="LcloseMenu" width="20" height="20" viewBox="0 0 123 123" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="19.7809" y="0.688812" width="145" height="27" rx="13.5" transform="rotate(45 19.7809 0.688812)" fill="#4D4949"/>
                    <rect x="1.00012" y="102.53" width="145" height="27" rx="13.5" transform="rotate(-45 1.00012 102.53)" fill="#4D4949"/>
                    </svg>
                </div>
                <div class="LsidepanelContent">
                    <div class="LsidepanelContentLeft">
                        <h2 class="Ltitle"></h2>
                        <img class="Limage" src="">
                    </div>
                    <div class="Linformation">
                        <div class="Lcontent">
                            <h2 class="LtitleRsp"></h2>
                        </div>
                        <div class="Lcontent">
                            <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M23.625 11.25C23.625 19.125 13.5 25.875 13.5 25.875C13.5 25.875 3.375 19.125 3.375 11.25C3.375 8.56468 4.44174 5.98935 6.34054 4.09054C8.23935 2.19174 10.8147 1.125 13.5 1.125C16.1853 1.125 18.7606 2.19174 20.6595 4.09054C22.5583 5.98935 23.625 8.56468 23.625 11.25Z" stroke="#307199" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.5 14.625C15.364 14.625 16.875 13.114 16.875 11.25C16.875 9.38604 15.364 7.875 13.5 7.875C11.636 7.875 10.125 9.38604 10.125 11.25C10.125 13.114 11.636 14.625 13.5 14.625Z" stroke="#307199" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p class="Ladress"></p>
                        </div>
                        <div class="Lcontent">
                            <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24.8749 19.4154V22.7904C24.8761 23.1037 24.812 23.4138 24.6864 23.7009C24.5609 23.988 24.3768 24.2457 24.146 24.4575C23.9151 24.6693 23.6425 24.8306 23.3457 24.9309C23.0489 25.0313 22.7344 25.0686 22.4224 25.0404C18.9606 24.6642 15.6352 23.4813 12.7136 21.5866C9.99542 19.8594 7.69087 17.5548 5.96361 14.8366C4.06234 11.9017 2.87914 8.56026 2.50986 5.08289C2.48175 4.77179 2.51872 4.45824 2.61843 4.16222C2.71813 3.86619 2.87838 3.59416 3.08898 3.36346C3.29957 3.13276 3.55589 2.94844 3.84163 2.82223C4.12736 2.69602 4.43625 2.63068 4.74861 2.63039H8.12361C8.66958 2.62502 9.19888 2.81835 9.61285 3.17436C10.0268 3.53037 10.2972 4.02477 10.3736 4.56539C10.5161 5.64546 10.7802 6.70596 11.1611 7.72664C11.3125 8.1293 11.3452 8.56692 11.2555 8.98763C11.1658 9.40834 10.9573 9.79451 10.6549 10.1004L9.22611 11.5291C10.8276 14.3456 13.1596 16.6776 15.9761 18.2791L17.4049 16.8504C17.7107 16.5479 18.0969 16.3395 18.5176 16.2497C18.9383 16.16 19.3759 16.1928 19.7786 16.3441C20.7993 16.725 21.8598 16.9892 22.9399 17.1316C23.4864 17.2087 23.9854 17.484 24.3422 17.9051C24.699 18.3261 24.8886 18.8637 24.8749 19.4154Z" stroke="#307199" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p class="Lphone"></p>
                        </div>
                        <div class="Lcontent">
                            <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.5 24.75C19.7132 24.75 24.75 19.7132 24.75 13.5C24.75 7.2868 19.7132 2.25 13.5 2.25C7.2868 2.25 2.25 7.2868 2.25 13.5C2.25 19.7132 7.2868 24.75 13.5 24.75Z" stroke="#307199" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2.25 13.5H24.75" stroke="#307199" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.5 2.25C16.3139 5.33065 17.9131 9.32854 18 13.5C17.9131 17.6715 16.3139 21.6694 13.5 24.75C10.6861 21.6694 9.0869 17.6715 9 13.5C9.0869 9.32854 10.6861 5.33065 13.5 2.25V2.25Z" stroke="#307199" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <a class="Lwebsite" target="_blank" rel="noopener noreferrer">Visiter le site web</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="Lleftpanel">
            <div class="LleftpanelIcon">
                <div class="LleftpanelIconGrp LactiviteIcon">
                    <svg width="65" height="65" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M24.4705 34.1824L28.5235 32.0412L24.4705 29.9L26.9176 26L22.3294 26.1529L22.4823 21.5647L18.5823 24.0118L16.4411 19.9588L14.3 24.0118L10.4 21.5647L10.5529 26.1529L6.1176 26L8.56466 29.9L4.51172 32.0412L8.56466 34.1824L6.1176 38.0059L10.7058 37.8529L10.5529 42.4412L14.4529 39.9941L16.5941 44.0471L18.7352 39.9941L22.6352 42.4412L22.4823 37.8529L27.0705 38.0059L24.4705 34.1824ZM16.5176 38.0059C13.2294 38.0059 10.4764 35.3294 10.4764 31.9647C10.4764 28.6765 13.1529 25.9235 16.5176 25.9235C19.8823 25.9235 22.5588 28.6 22.5588 31.9647C22.5588 35.3294 19.8823 38.0059 16.5176 38.0059Z" fill="white"/>
                        <path d="M54.9058 55.8235C53.8353 56.5882 52.9941 57.2 51.1588 57.2C49.3235 57.2 48.5588 56.6647 47.4117 55.8235C46.1882 54.9823 44.6588 53.9118 41.8294 53.9118C39 53.9118 37.4705 54.9823 36.247 55.8235C35.1764 56.5882 34.3352 57.2 32.5 57.2C30.6647 57.2 29.9 56.6647 28.7529 55.8235C27.5294 54.9823 26 53.9118 23.1705 53.9118C20.3411 53.9118 18.8117 54.9823 17.5882 55.8235C16.5176 56.5882 15.6764 57.2 13.8411 57.2C12.0058 57.2 11.2411 56.5882 10.0941 55.8235C8.87054 54.9823 7.34113 53.9118 4.51172 53.9118V57.2C6.34701 57.2 7.11172 57.7353 8.25878 58.5765C9.48231 59.4176 11.0117 60.4882 13.8411 60.4882C16.6705 60.4882 18.2 59.4176 19.4235 58.5765C20.4941 57.8118 21.3352 57.2 23.1705 57.2C25.0058 57.2 25.7705 57.7353 26.9176 58.5765C28.1411 59.4176 29.6705 60.4882 32.5 60.4882C35.3294 60.4882 36.8588 59.4176 38.0823 58.5765C39.1529 57.8118 39.9941 57.2 41.8294 57.2C43.6647 57.2 44.4294 57.7353 45.5764 58.5765C46.8 59.4176 48.3294 60.4882 51.1588 60.4882C53.9882 60.4882 55.5176 59.4176 56.7411 58.5765C57.8117 57.8118 58.6529 57.2 60.4882 57.2V53.9118C57.6588 53.9118 56.1294 54.9823 54.9058 55.8235Z" fill="white"/>
                        <path d="M58.8059 16.5176C56.9706 12.6176 53.9883 9.63529 50.1647 7.8L50.9295 5.65882L47.8706 4.51176L47.1059 6.65294C38.1589 4.28235 28.753 9.1 25.5412 17.8941L24.853 19.7294L26.7647 20.1118C29.8236 20.6471 32.8059 21.7176 35.4824 23.3235L35.8648 23.5529H36.3236C36.4 23.5529 36.4 23.5529 36.4765 23.5529C37.9295 23.5529 39.3824 23.7059 40.7589 24.0882L33.1118 45.1176C32.8824 45.1176 32.7295 45.1176 32.5 45.1176C27.453 45.1176 22.4824 45.9588 17.7412 47.5647C14.7589 48.5588 11.853 49.9353 9.17651 51.5412C10.4 52.0765 11.3177 52.6882 12.0059 53.2235C13 53.9118 13.0765 53.9882 13.8412 53.9882C14.6059 53.9882 14.6824 53.9118 15.6765 53.2235C17.053 52.3059 19.2706 50.7 23.1706 50.7C27.0706 50.7 29.2883 52.3059 30.6647 53.2235C31.6589 53.9118 31.7353 53.9882 32.5 53.9882C33.2647 53.9882 33.3412 53.9118 34.3353 53.2235C35.7118 52.3059 37.9295 50.7 41.8295 50.7C45.7295 50.7 47.9471 52.3059 49.3236 53.2235C50.3177 53.9118 50.3942 53.9882 51.1589 53.9882C51.9236 53.9882 52 53.9118 52.9942 53.2235C53.6824 52.7647 54.6 52.0765 55.8236 51.5412C53.1471 49.9353 50.2412 48.5588 47.2589 47.5647C43.7412 46.3412 40.1471 45.5765 36.4765 45.2706L43.7412 25.2353C45.0412 25.8471 46.3412 26.6882 47.4883 27.6824L47.7942 27.9882L48.253 28.0647C51.3118 28.6 54.2942 29.6706 56.9706 31.2765L58.653 32.1941L59.3412 30.3588C61.0236 25.7706 60.7942 20.8765 58.8059 16.5176Z" fill="white"/>
                    </svg>
                    <span class="LleftpanelIconTxt">Les visites et activités</span>
                </div>
                <div class="LleftpanelIconGrp LrestaurationIcon">
                    <svg width="65" height="65" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M56.6646 50.3176L36.7058 30.3588L13.3058 7.03528H11.4705L11.0881 7.95293C10.094 10.4765 9.71164 13 9.86458 15.3706C10.094 18.047 11.0881 20.3412 12.7705 22.0235L30.9705 40.2235L33.3411 37.8529L50.1646 56.6647C51.8469 58.347 54.7528 58.4235 56.5116 56.6647C58.3469 54.9059 58.3469 52.0765 56.6646 50.3176Z" fill="white"/>
                        <path d="M22.6352 36.0176L8.33523 50.3176C6.57641 52.0765 6.57641 54.9059 8.33523 56.6647C10.0176 58.347 12.847 58.5 14.6823 56.6647L28.9823 42.3647L22.6352 36.0176Z" fill="white"/>
                        <path d="M55.8234 15.5235L47.7176 23.6294L45.5764 21.4882L53.6823 13.3823L51.5411 11.2412L43.5117 19.4235L41.3705 17.2823L49.4764 9.17645L47.3352 7.03528L36.7823 17.6647C35.4823 18.9647 34.7176 20.647 34.6411 22.4823C34.6411 22.9412 34.4881 23.4 34.3352 23.8588L41.2176 30.7412C41.6764 30.5882 42.1352 30.4353 42.594 30.4353C44.4293 30.3588 46.1117 29.5176 47.4117 28.2941L57.9646 17.7412L55.8234 15.5235Z" fill="white"/>
                    </svg>
                    <span class="LleftpanelIconTxt">Pause gourmande</span>
                </div>
                <div class="LleftpanelIconGrp LhebergementIcon">
                    <svg width="65" height="43" viewBox="0 0 65 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M57.6589 9.26471H25.006C23.4001 9.26471 20.7236 9.87648 20.7236 14.0059V20.2765H61.9413V14.0059C61.9413 9.87648 59.2648 9.26471 57.6589 9.26471Z" fill="white"/>
                        <path d="M5.04714 22.1882V0.24118H0.917725V42.7588H5.04714V31.8235H59.953V42.7588H64.0824V22.1882H5.04714Z" fill="white"/>
                        <path d="M12.4648 20.4294C15.6323 20.4294 18.2001 17.8616 18.2001 14.6941C18.2001 11.5266 15.6323 8.95883 12.4648 8.95883C9.29724 8.95883 6.72947 11.5266 6.72947 14.6941C6.72947 17.8616 9.29724 20.4294 12.4648 20.4294Z" fill="white"/>
                    </svg>                                       
                    <span class="LleftpanelIconTxt">Les hébergements</span>
                </div>
                <div class="LleftpanelIconGrp LserviceIcon">
                    <svg width="65" height="65" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M52.5354 13V8.64117H11.3942V13L7.0354 28.1412V30.5882C7.0354 32.8823 8.41187 34.8706 10.2472 35.8647C10.2472 42.5176 10.2472 56.2823 10.2472 56.2823H18.8883V39H27.5295V56.3588H53.5295V36.4C55.9766 35.6353 57.8883 33.3412 57.8883 30.6647V28.2176L52.5354 13ZM13.0001 34.4118C11.2413 34.4118 9.17658 32.9588 9.17658 30.2823H16.8236C16.8236 33.0353 14.7589 34.4118 13.0001 34.4118ZM43.8942 13L46.0354 28.1412C41.753 28.1412 41.6001 28.1412 38.4648 28.1412L37.3942 13H43.8942ZM46.0354 30.3588C46.0354 33.0353 44.0472 34.4882 42.2119 34.4882C40.3766 34.4882 38.3883 33.0353 38.3883 30.3588H46.0354ZM22.7883 34.4118C21.0295 34.4118 18.9648 32.9588 18.9648 30.2823H26.5354C26.5354 33.0353 24.5472 34.4118 22.7883 34.4118ZM26.5354 28.1412C23.553 28.1412 23.0942 28.1412 18.9648 28.1412L21.106 13H27.606L26.5354 28.1412ZM28.6766 30.3588H36.2472C36.2472 33.0353 34.2589 34.4882 32.4236 34.4882C30.7413 34.4118 28.6766 33.0353 28.6766 30.3588ZM49.2472 52H31.9648V39H49.3236V52H49.2472ZM52.0001 34.4118C50.1648 34.4118 48.1766 32.9588 48.1766 30.2823H55.7472C55.7472 32.9588 53.7589 34.4118 52.0001 34.4118Z" fill="white"/>
                    </svg> 
                    <span class="LleftpanelIconTxt">Les commerces et services</span>
                </div>
            </div>
            <div class="LleftpanelLogo">
                <svg width="100" height="48" viewBox="0 0 100 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M27.5999 1.03999H28.8799V2.79999C29.3599 2.15999 29.9199 1.59999 30.5599 1.27999C31.1999 0.959988 31.9199 0.799988 32.7199 0.799988C34.0799 0.799988 35.2799 1.27999 36.2399 2.23999C37.1999 3.19999 37.6799 4.39999 37.6799 5.75999C37.6799 7.19999 37.1999 8.39999 36.2399 9.35999C35.2799 10.32 34.0799 10.88 32.7199 10.88C31.9199 10.88 31.2799 10.72 30.6399 10.4C29.9999 10.08 29.4399 9.59999 28.8799 8.95999V14.16H27.5999V1.03999V1.03999ZM32.5599 1.99999C31.5199 1.99999 30.5599 2.39999 29.8399 3.11999C29.1199 3.83999 28.7999 4.79999 28.7999 5.91999C28.7999 6.63999 28.9599 7.27999 29.2799 7.91999C29.5999 8.47999 30.0799 8.95999 30.7199 9.27999C31.3599 9.59999 31.9999 9.75999 32.6399 9.75999C33.2799 9.75999 33.9199 9.59999 34.4799 9.27999C35.0399 8.95999 35.5199 8.47999 35.9199 7.83999C36.2399 7.19999 36.4799 6.55999 36.4799 5.91999C36.4799 5.19999 36.3199 4.55999 35.9999 3.99999C35.6799 3.35999 35.1999 2.87999 34.6399 2.55999C34.0799 2.23999 33.2799 1.99999 32.5599 1.99999Z" fill="#005182"/>
                    <path d="M49.04 1.03999V10.64H47.84V8.95999C47.36 9.59999 46.72 10.08 46.08 10.4C45.44 10.72 44.72 10.88 43.92 10.88C42.56 10.88 41.36 10.4 40.4 9.35999C39.44 8.31999 39.04 7.19999 39.04 5.83999C39.04 4.47999 39.52 3.27999 40.48 2.31999C41.44 1.27999 42.64 0.799988 44 0.799988C44.8 0.799988 45.52 0.959988 46.16 1.27999C46.8 1.59999 47.36 2.15999 47.84 2.79999V1.03999H49.04ZM44.08 1.99999C43.36 1.99999 42.72 2.15999 42.16 2.47999C41.6 2.79999 41.12 3.27999 40.8 3.91999C40.48 4.55999 40.32 5.19999 40.32 5.83999C40.32 6.47999 40.48 7.19999 40.88 7.75999C41.2 8.39999 41.68 8.87999 42.32 9.19999C42.88 9.51999 43.52 9.67999 44.24 9.67999C44.88 9.67999 45.6 9.51999 46.16 9.19999C46.8 8.87999 47.2 8.39999 47.6 7.83999C47.92 7.27999 48.08 6.55999 48.08 5.83999C48.08 4.71999 47.68 3.75999 46.96 3.03999C46.08 2.31999 45.12 1.99999 44.08 1.99999Z" fill="#005182"/>
                    <path d="M50.24 1.03998H51.6L54.88 8.47998L58.08 1.03998H59.44L53.68 14.16H52.32L54.24 9.91998L50.24 1.03998Z" fill="#005182"/>
                    <path d="M65.2799 2.07999L64.4799 2.87999C63.8399 2.23999 63.1999 1.91999 62.5599 1.91999C62.1599 1.91999 61.8399 2.07999 61.5199 2.31999C61.1999 2.55999 61.1199 2.87999 61.1199 3.27999C61.1199 3.59999 61.1999 3.91999 61.4399 4.15999C61.6799 4.47999 62.1599 4.79999 62.9599 5.19999C63.9199 5.67999 64.4799 6.15999 64.8799 6.55999C65.1999 7.03999 65.3599 7.51999 65.3599 8.07999C65.3599 8.87999 65.1199 9.51999 64.5599 10.08C63.9999 10.64 63.2799 10.88 62.4799 10.88C61.9199 10.88 61.3599 10.8 60.8799 10.48C60.3999 10.24 59.9199 9.91999 59.5999 9.51999L60.3999 8.63999C61.0399 9.35999 61.6799 9.67999 62.3999 9.67999C62.8799 9.67999 63.2799 9.51999 63.6799 9.19999C63.9999 8.87999 64.2399 8.47999 64.2399 8.07999C64.2399 7.75999 64.1599 7.43999 63.9199 7.11999C63.6799 6.87999 63.1999 6.47999 62.3199 6.07999C61.3599 5.67999 60.7999 5.27999 60.4799 4.79999C60.1599 4.39999 59.9999 3.91999 59.9999 3.35999C59.9999 2.63999 60.2399 1.99999 60.7199 1.51999C61.1999 1.03999 61.8399 0.799988 62.6399 0.799988C63.5199 0.799988 64.3999 1.19999 65.2799 2.07999Z" fill="#005182"/>
                    <path d="M71.0399 5.20001H66.1599V6.32001H71.0399V5.20001Z" fill="#005182"/>
                    <path d="M21.1199 18.16H22.3999V19.6C22.7999 19.04 23.1999 18.64 23.5999 18.32C23.9999 18.08 24.4799 17.92 24.8799 17.92C25.1999 17.92 25.5999 18 25.9999 18.24L25.3599 19.28C25.1199 19.2 24.8799 19.12 24.7199 19.12C24.3199 19.12 23.9199 19.28 23.5199 19.6C23.1199 19.92 22.8799 20.48 22.6399 21.2C22.3999 21.76 22.3999 22.88 22.3999 24.56V27.84H21.1199V18.16Z" fill="#005182"/>
                    <path d="M30.9599 17.92C32.4799 17.92 33.6799 18.48 34.6399 19.52C35.5199 20.48 35.9999 21.68 35.9999 23.04C35.9999 24.4 35.5199 25.6 34.5599 26.56C33.5999 27.6 32.3999 28.08 30.9599 28.08C29.5199 28.08 28.2399 27.6 27.3599 26.56C26.3999 25.52 25.9199 24.4 25.9199 23.04C25.9199 21.68 26.3999 20.56 27.2799 19.6C28.2399 18.48 29.4399 17.92 30.9599 17.92ZM30.9599 19.12C29.9199 19.12 29.0399 19.52 28.3199 20.24C27.5999 21.04 27.1999 21.92 27.1999 23.04C27.1999 23.76 27.3599 24.4 27.6799 24.96C27.9999 25.6 28.4799 26 29.0399 26.32C29.5999 26.64 30.2399 26.8 30.9599 26.8C31.6799 26.8 32.2399 26.64 32.8799 26.32C33.4399 26 33.9199 25.52 34.2399 24.96C34.5599 24.32 34.7199 23.68 34.7199 23.04C34.7199 21.92 34.3199 21.04 33.5999 20.24C32.8799 19.52 31.9999 19.12 30.9599 19.12Z" fill="#005182"/>
                    <path d="M36.72 18.16H38L41.36 25.6L44.56 18.16H45.84L40.08 31.28H38.8L40.64 27.04L36.72 18.16Z" fill="#005182"/>
                    <path d="M56.56 18.16V27.76H55.36V26.08C54.88 26.72 54.24 27.2 53.6 27.52C52.96 27.84 52.16 28 51.44 28C50.08 28 48.88 27.52 47.92 26.48C46.96 25.52 46.48 24.32 46.48 22.88C46.48 21.52 46.96 20.32 47.92 19.28C48.88 18.32 50.08 17.84 51.44 17.84C52.24 17.84 52.96 18 53.6 18.32C54.24 18.64 54.8 19.2 55.28 19.84V18.08H56.56V18.16ZM51.6 19.12C50.88 19.12 50.24 19.28 49.68 19.6C49.12 19.92 48.64 20.4 48.32 21.04C48 21.68 47.84 22.32 47.84 22.96C47.84 23.6 48 24.32 48.4 24.88C48.72 25.52 49.2 26 49.84 26.32C50.4 26.64 51.04 26.8 51.76 26.8C52.4 26.8 53.12 26.64 53.68 26.32C54.32 26 54.72 25.52 55.12 24.96C55.44 24.4 55.6 23.68 55.6 22.96C55.6 21.84 55.2 20.88 54.48 20.16C53.52 19.44 52.64 19.12 51.6 19.12Z" fill="#005182"/>
                    <path d="M58.8 18.16H60V19.92C60.48 19.28 61.04 18.8 61.68 18.4C62.32 18.08 62.96 17.92 63.68 17.92C64.4 17.92 65.04 18.08 65.6 18.48C66.16 18.88 66.56 19.36 66.8 19.92C67.04 20.56 67.2 21.52 67.2 22.8V27.76H65.92V23.2C65.92 22.08 65.84 21.36 65.76 20.96C65.6 20.32 65.36 19.84 64.96 19.52C64.56 19.2 64 19.04 63.36 19.04C62.64 19.04 61.92 19.28 61.36 19.76C60.8 20.24 60.4 20.88 60.16 21.6C60.08 22.08 60 22.96 60 24.24V27.76H58.72V18.16H58.8Z" fill="#005182"/>
                    <path d="M69.2798 18.16H70.5598V19.92C71.0398 19.28 71.5998 18.8 72.2398 18.4C72.8798 18.08 73.5198 17.92 74.2398 17.92C74.9598 17.92 75.5998 18.08 76.1598 18.48C76.7198 18.88 77.1198 19.36 77.3598 19.92C77.5998 20.56 77.7598 21.52 77.7598 22.8V27.76H76.5598V23.2C76.5598 22.08 76.4798 21.36 76.3998 20.96C76.2398 20.32 75.9998 19.84 75.5998 19.52C75.1998 19.2 74.6398 19.04 73.9998 19.04C73.2798 19.04 72.5598 19.28 71.9998 19.76C71.4398 20.24 71.0398 20.88 70.7998 21.6C70.7198 22.08 70.6398 22.96 70.6398 24.24V27.76H69.3598V18.16H69.2798Z" fill="#005182"/>
                    <path d="M89.4399 18.16V27.76H88.2399V26.08C87.7599 26.72 87.1199 27.2 86.4799 27.52C85.8399 27.84 85.1199 28 84.3199 28C82.9599 28 81.7599 27.52 80.7999 26.48C79.8399 25.52 79.3599 24.32 79.3599 22.88C79.3599 21.52 79.8399 20.32 80.7999 19.28C81.7599 18.32 82.9599 17.84 84.3199 17.84C85.1199 17.84 85.8399 18 86.4799 18.32C87.1199 18.64 87.6799 19.2 88.1599 19.84V18.08H89.4399V18.16ZM84.4799 19.12C83.7599 19.12 83.1199 19.28 82.5599 19.6C81.9999 19.92 81.5199 20.4 81.1999 21.04C80.8799 21.68 80.7199 22.32 80.7199 22.96C80.7199 23.6 80.8799 24.32 81.2799 24.88C81.5999 25.52 82.0799 26 82.7199 26.32C83.2799 26.64 83.9199 26.8 84.6399 26.8C85.2799 26.8 85.9999 26.64 86.5599 26.32C87.1999 26 87.5999 25.52 87.9999 24.96C88.3199 24.4 88.4799 23.68 88.4799 22.96C88.4799 21.84 88.0799 20.88 87.3599 20.16C86.3999 19.44 85.5199 19.12 84.4799 19.12Z" fill="#005182"/>
                    <path d="M92.0798 14.16C92.3998 14.16 92.6398 14.24 92.7998 14.48C92.9598 14.72 93.1198 14.96 93.1198 15.2C93.1198 15.44 93.0398 15.68 92.7998 15.92C92.5598 16.16 92.3198 16.24 92.0798 16.24C91.8398 16.24 91.5998 16.16 91.3598 15.92C91.1998 15.68 91.0398 15.52 91.0398 15.2C91.0398 14.88 91.1198 14.64 91.3598 14.48C91.5998 14.32 91.7598 14.16 92.0798 14.16ZM91.4398 18.16H92.6398V27.76H91.4398V18.16Z" fill="#005182"/>
                    <path d="M99.5999 19.2L98.7999 20C98.1599 19.36 97.5199 19.04 96.8799 19.04C96.4799 19.04 96.1599 19.2 95.8399 19.44C95.5199 19.68 95.4399 20 95.4399 20.4C95.4399 20.72 95.5199 21.04 95.7599 21.28C95.9999 21.6 96.4799 21.92 97.2799 22.32C98.2399 22.8 98.7999 23.28 99.1999 23.68C99.5199 24.16 99.6799 24.64 99.6799 25.2C99.6799 26 99.4399 26.64 98.8799 27.2C98.3199 27.76 97.5999 28 96.7999 28C96.2399 28 95.6799 27.84 95.1999 27.6C94.7199 27.36 94.2399 27.04 93.9199 26.56L94.7199 25.68C95.3599 26.4 95.9999 26.72 96.7199 26.72C97.1999 26.72 97.5999 26.56 97.9999 26.24C98.3199 25.92 98.5599 25.52 98.5599 25.12C98.5599 24.8 98.4799 24.48 98.2399 24.16C97.9999 23.92 97.5199 23.52 96.6399 23.12C95.7599 22.64 95.1999 22.24 94.8799 21.76C94.5599 21.36 94.3999 20.8 94.3999 20.24C94.3999 19.52 94.6399 18.88 95.1199 18.4C95.5999 17.92 96.2399 17.68 97.0399 17.68C97.7599 17.92 98.6399 18.32 99.5999 19.2Z" fill="#005182"/>
                    <path d="M35.7599 31.04C36.2399 31.04 36.6399 31.2 37.0399 31.6C37.3599 31.92 37.5999 32.4 37.5999 32.88C37.5999 33.36 37.4399 33.84 37.0399 34.16C36.7199 34.48 36.2399 34.72 35.7599 34.72C35.2799 34.72 34.7999 34.56 34.4799 34.16C34.1599 33.76 33.9199 33.36 33.9199 32.88C33.9199 32.4 34.0799 31.92 34.4799 31.6C34.8799 31.28 35.2799 31.04 35.7599 31.04ZM34.3199 35.68H37.1199V46.96H34.3199V35.68Z" fill="white"/>
                    <path d="M40.7998 35.68H43.5998V36.8C44.2398 36.24 44.7998 35.92 45.3598 35.68C45.8398 35.44 46.3998 35.36 46.9598 35.36C48.0798 35.36 49.0398 35.76 49.7598 36.56C50.3998 37.2 50.7198 38.24 50.7198 39.52V46.96H47.9998V42C47.9998 40.64 47.9198 39.76 47.8398 39.36C47.7598 38.96 47.5198 38.56 47.1998 38.32C46.8798 38.08 46.5598 38 46.0798 38C45.5198 38 45.0398 38.16 44.6398 38.56C44.2398 38.96 43.9198 39.44 43.7598 40.16C43.6798 40.48 43.5998 41.28 43.5998 42.48V46.96H40.7998V35.68Z" fill="white"/>
                    <path d="M53.2798 35.68H54.3198C54.3198 34.24 54.3198 33.36 54.3998 33.04C54.4798 32.4 54.7198 31.92 55.1998 31.6C55.6798 31.2 56.2398 31.04 57.1198 31.04C57.6798 31.04 58.3998 31.2 59.1198 31.44V33.6C58.7198 33.52 58.3998 33.44 58.0798 33.44C57.7598 33.44 57.5198 33.52 57.3598 33.68C57.2798 33.76 57.1998 34 57.1998 34.32V35.76H58.9598V38.16H57.1998V47.04H54.3998V38.08H53.3598V35.68H53.2798Z" fill="white"/>
                    <path d="M66.88 35.44C67.92 35.44 68.96 35.68 69.84 36.24C70.8 36.8 71.52 37.52 72 38.4C72.56 39.28 72.8 40.32 72.8 41.36C72.8 42.4 72.56 43.44 72 44.32C71.44 45.28 70.72 46 69.84 46.48C68.96 47.04 67.92 47.28 66.8 47.28C65.2 47.28 63.84 46.72 62.64 45.6C61.52 44.48 60.96 43.04 60.96 41.44C60.96 39.68 61.6 38.24 62.88 37.04C64.08 35.92 65.36 35.44 66.88 35.44ZM66.88 38.08C66 38.08 65.28 38.4 64.72 38.96C64.16 39.6 63.84 40.32 63.84 41.28C63.84 42.24 64.16 43.04 64.72 43.68C65.28 44.32 66 44.56 66.88 44.56C67.76 44.56 68.48 44.24 69.12 43.6C69.68 42.96 70 42.16 70 41.2C70 40.24 69.68 39.44 69.12 38.88C68.56 38.4 67.84 38.08 66.88 38.08Z" fill="white"/>
                    <path d="M29.1999 43.6C29.6799 43.6 30.0799 43.76 30.4799 44.16C30.7999 44.48 31.0399 44.96 31.0399 45.44C31.0399 45.92 30.8799 46.4 30.4799 46.72C30.1599 47.04 29.6799 47.28 29.1999 47.28C28.7199 47.28 28.2399 47.12 27.9199 46.72C27.5999 46.32 27.3599 45.92 27.3599 45.44C27.3599 44.96 27.5199 44.48 27.9199 44.16C28.2399 43.76 28.7199 43.6 29.1999 43.6Z" fill="white"/>
                    <path d="M23.4399 47.44V38.16L19.1999 40.16L19.8399 36.32C18.1599 35.68 16.7199 34.8 15.5199 33.6C15.2799 33.36 15.0399 33.12 14.7999 32.88L7.11987 40.56C11.1999 44.8 16.6399 47.12 23.4399 47.44Z" fill="white"/>
                    <path d="M15.5999 14.64C17.6799 12.64 20.3199 11.44 23.3599 11.04V0.559998C19.5199 0.799998 15.9999 1.84 12.7199 3.6C10.6399 4.72 8.71987 6.08 7.11987 7.68L14.8799 15.44C15.1199 15.12 15.3599 14.88 15.5999 14.64Z" fill="white"/>
                    <path d="M11.76 24C11.84 20.64 12.88 17.76 14.88 15.44L7.19998 7.67999C5.83998 9.03999 4.71998 10.48 3.75998 12.16C1.59998 15.76 0.55998 19.68 0.47998 24H11.76Z" fill="#005182"/>
                    <path d="M11.7599 24.32C11.7599 24.24 11.7599 24.16 11.7599 24H0.399902C0.399902 24.08 0.399902 24.08 0.399902 24.16C0.399902 30.4 2.5599 35.76 6.9599 40.4C6.9599 40.48 7.0399 40.48 7.0399 40.56L14.7199 32.88C14.6399 32.8 14.6399 32.8 14.5599 32.72C12.7199 30.48 11.7599 27.68 11.7599 24.32Z" fill="#5FC4EA"/>
                </svg>
            </div>
        </div>
        <div class="LsideFilterpanel"></div>
    </div>
</body>
<script>

    const svgBlue = '<svg width="26" height="41" viewBox="0 0 26 41" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 13.5C19 16.5376 16.5376 19 13.5 19C10.4624 19 8 16.5376 8 13.5C8 10.4624 10.4624 8 13.5 8C16.5376 8 19 10.4624 19 13.5Z" fill="white"/><path d="M13.3619 39.3378C13.2153 39.5682 13.0946 39.7565 13.0036 39.898C12.9126 39.7565 12.7919 39.5682 12.6452 39.3378C12.2905 38.7806 11.7835 37.9772 11.1752 36.9925C9.95834 35.023 8.33623 32.3293 6.71445 29.4318C5.09221 26.5334 3.47258 23.4351 2.25921 20.6553C1.04034 17.863 0.25 15.4322 0.25 13.8523C0.25 9.09195 1.87241 5.70244 4.2625 3.49961C6.6568 1.2929 9.84296 0.257417 13 0.250001C16.157 0.257417 19.3432 1.2929 21.7375 3.49961C24.1276 5.70244 25.75 9.09195 25.75 13.8523C25.75 15.4322 24.9601 17.863 23.7419 20.6554C22.5293 23.4351 20.9105 26.5335 19.2892 29.4318C17.6684 32.3294 16.0472 35.0231 14.831 36.9926C14.223 37.9772 13.7164 38.7807 13.3619 39.3378ZM13.0074 8.54761C10.379 8.54761 8.25114 10.6755 8.25114 13.3039C8.25114 15.932 10.3788 18.0601 13 18.0601C15.6278 18.0601 17.7637 15.9328 17.7637 13.3039C17.7637 10.6755 15.6358 8.54761 13.0074 8.54761Z" fill="#16AFD1" stroke="white" stroke-width="0.5"/></svg>';
    const baseSvg = 'data:image/svg+xml;base64,' + btoa(svgBlue);

    const svgDark = '<svg width="26" height="41" viewBox="0 0 26 41" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 13.5C19 16.5376 16.5376 19 13.5 19C10.4624 19 8 16.5376 8 13.5C8 10.4624 10.4624 8 13.5 8C16.5376 8 19 10.4624 19 13.5Z" fill="white"/><path d="M13.3619 39.3378C13.2153 39.5682 13.0946 39.7565 13.0036 39.898C12.9126 39.7565 12.7919 39.5682 12.6452 39.3378C12.2905 38.7806 11.7835 37.9772 11.1752 36.9925C9.95834 35.023 8.33623 32.3293 6.71445 29.4318C5.09221 26.5334 3.47258 23.4351 2.25921 20.6553C1.04034 17.863 0.25 15.4322 0.25 13.8523C0.25 9.09195 1.87241 5.70244 4.2625 3.49961C6.6568 1.2929 9.84296 0.257417 13 0.250001C16.157 0.257417 19.3432 1.2929 21.7375 3.49961C24.1276 5.70244 25.75 9.09195 25.75 13.8523C25.75 15.4322 24.9601 17.863 23.7419 20.6554C22.5293 23.4351 20.9105 26.5335 19.2892 29.4318C17.6684 32.3294 16.0472 35.0231 14.831 36.9926C14.223 37.9772 13.7164 38.7807 13.3619 39.3378ZM13.0074 8.54761C10.379 8.54761 8.25114 10.6755 8.25114 13.3039C8.25114 15.932 10.3788 18.0601 13 18.0601C15.6278 18.0601 17.7637 15.9328 17.7637 13.3039C17.7637 10.6755 15.6358 8.54761 13.0074 8.54761Z" fill="#307199" stroke="white" stroke-width="0.5"/></svg>';
    const activeSvg = 'data:image/svg+xml;base64,' + btoa(svgDark);

    const sidepanel = document.querySelector('.Lsidepanel')
    const sideFilterpanel = document.querySelector('.LsideFilterpanel')

    const closeMenu = document.querySelector('.LcloseMenu')
    const LlistBtn = document.querySelector('.LlistBtn')

    const Ltitle = document.querySelector('.Ltitle')
    const LtitleRsp = document.querySelector('.LtitleRsp')
    const Limage = document.querySelector('.Limage')
    const Ladress = document.querySelector('.Ladress')
    const Lphone = document.querySelector('.Lphone')
    const Lwebsite = document.querySelector('.Lwebsite')

    const filterActiviteIcon = document.querySelector('.LactiviteIcon')
    const filterRestaurationIcon = document.querySelector('.LrestaurationIcon')
    const filterHebergementIcon = document.querySelector('.LhebergementIcon')
    const filterServiceIcon = document.querySelector('.LserviceIcon')

    let clickedMarker;

    let geojson = {
        type: "FeatureCollection",
        features: []
    }
    
    const activeIcon = new L.Icon({
        iconUrl: activeSvg,
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        // iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    });

    const baseIcon = new L.Icon({
        iconUrl: baseSvg,
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    });

    const mymap = L.map('mapid',{
        center : [45.6284600, -1.0281000],
        zoom : 12,
        minZoom : 10,
        zoomControl : false,
    })

    const popup = L.popup()

    const customOptions =
        {
        'maxWidth': '100%',
        'width': '100%',
        'className' : 'popupCustom'
        }

    const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'

    L.tileLayer(tileUrl, { 
        attribution : '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 20,
        zoomOffest: -1,
        }).addTo(mymap)

    L.Map.prototype.setViewOffset = function (latlng, offset, targetZoom) {
        var targetPoint = this.project(latlng, targetZoom).subtract(offset),
        targetLatLng = this.unproject(targetPoint, targetZoom);
        return this.setView(targetLatLng, targetZoom);
    }


    // Go back to the filterd list 
    LlistBtn.addEventListener('click', function(){
        sidepanel.classList.remove('active');
        if(filterActiviteIcon.classList.contains('active') || filterRestaurationIcon.classList.contains('active') || filterHebergementIcon.classList.contains('active') || filterServiceIcon.classList.contains('active')){
            sideFilterpanel.classList.add('active');
        }
        if(clickedMarker){
        clickedMarker.setIcon(baseIcon);
        }
    })

    // function to close menu
    closeMenu.addEventListener('click', function(e){
        sidepanel.classList.remove('active');
        if(filterActiviteIcon.classList.contains('active') || filterRestaurationIcon.classList.contains('active') || filterHebergementIcon.classList.contains('active') || filterServiceIcon.classList.contains('active')){
            sideFilterpanel.classList.add('active');
        }
        mymap.setView([clickedMarker.feature.geometry.coordinates[1], clickedMarker.feature.geometry.coordinates[0]], 13, {animation : true});
        clickedMarker.setIcon(baseIcon)
    })



    // fetch the data and populate the map

    fetch('https://script.googleusercontent.com/macros/echo?user_content_key=Tvu5ydypmc9FPX_faTChkkTS9UhxK1WQ7ETa2KVwqbPDFwaMBofMOuNuw24yUiBWKTbagYLNz_-0uLQtK0qkGpki1TsG8wQem5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnLqrBgluDekbTIPQZNVHGf7dfDkcJ3TALlZKQbnzqASdeoNp780cEthHw__5aZrAQFFrGqk7FSJR&lib=M1-0sR9glFGJodTTkG848NlT3K2hnuyIu')
    .then(response => response.json())
    .then(obj => {
        obj[0].data.forEach(item => {
            const coord = item.coordinates.split(',')
            let parseCoord = [parseFloat(coord[0]), parseFloat(coord[1])]
            let newData = {
                type : item.type,
                properties : {
                    category : item.category,
                    name : item.name,
                    image : item.image,
                    adress : item.adress,
                    phone : item.phone,
                    website : item.website,
                },
                geometry: {
                    type : item.geometry__type,
                    coordinates : parseCoord
                }
            }
            geojson.features.push(newData)
        })

        // variable for each feature of the differents layers

        const eachFeatureCode = function(feature, layer){
                    if(feature.geometry.type === 'Point'){
                    layer.on('click', function(e){
                        if(clickedMarker){
                            clickedMarker.setIcon(baseIcon);
                        }
                        e.target.setIcon(activeIcon);
                        clickedMarker = e.target;

                        if(window.innerWidth >= 1024){
                            mymap.setViewOffset(e.target.getLatLng(),[-100, 0],17)
                        } else{
                            mymap.setViewOffset(e.target.getLatLng(),[40, -110],14)
                        }

                        sidepanel.classList.add('active');
                        sideFilterpanel.classList.remove('active')

                        Ltitle.innerHTML = `${feature.properties.name}`
                        LtitleRsp.innerHTML = `${feature.properties.name}`
                        Limage.src = `${feature.properties.image}`
                        Ladress.innerHTML = `${feature.properties.adress}`
                        Lphone.innerHTML = `${feature.properties.phone}`
                        Lwebsite.href = `${feature.properties.website}`

                        if(filterActiviteIcon.classList.contains('active') || filterRestaurationIcon.classList.contains('active') || filterHebergementIcon.classList.contains('active') || filterServiceIcon.classList.contains('active')){
                            LlistBtn.style.display = 'block'
                        } else {
                            LlistBtn.style.display = 'none'
                        }
                })
            }
        }

        // Filter left panel ACTIVITE

        filterActiviteIcon.addEventListener("click", function(){
            // list panel open remove other
            sideFilterpanel.classList.toggle('active')

            if(filterHebergementIcon.classList.contains('active') || filterRestaurationIcon.classList.contains('active') || filterServiceIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
                sideFilterpanel.classList.add('active')
            }
            if(filterActiviteIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
            }

            // remove shop info
            sidepanel.classList.remove('active')

            // set inner panel html
            sideFilterpanel.innerHTML =`
                <div class="LsideFilterpanelInner">
                    <div class="Lheader">
                        <svg class="LcloseMenuList" width="20" height="20" viewBox="0 0 123 123" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="19.7809" y="0.688812" width="145" height="27" rx="13.5" transform="rotate(45 19.7809 0.688812)" fill="#4D4949"/>
                        <rect x="1.00012" y="102.53" width="145" height="27" rx="13.5" transform="rotate(-45 1.00012 102.53)" fill="#4D4949"/>
                        </svg>
                    </div>
                    <div class="Llist">
                        <div class="LfilterActivite">Visites & activités</div>
                        <div class="LactiviteList">
                        </div>
                    </div
                </div>
            `

            // populate data inside the panel
            const LactiviteList = document.querySelector('.LactiviteList')
            const activiteData = Object.values(activite._layers)
        
            const listactivite = activiteData.forEach((layer)=>{
                if(layer.feature.properties.category == 'activite'){
                    let companyName = `
                    <div class="LlistItem" 
                    id='${layer._leaflet_id}' 
                    long='${layer.feature.geometry.coordinates[0]}'
                    lat='${layer.feature.geometry.coordinates[1]}'
                    
                    >
                    ${layer.feature.properties.name}
                    </div>`
                    
                    
                    let box = document.createElement('div');
                    box.innerHTML = companyName;
                    LactiviteList.append(box)
                }
            })

            //select item on click
            LactiviteList.addEventListener('click', function(event){
                event.stopPropagation()
                const lat = event.target.getAttribute('lat')
                const long = event.target.getAttribute('long')
                const id = Number(event.target.getAttribute('id'))

                mymap.setViewOffset([lat, long],[-120, 0],12, {animation : true})                

                if(clickedMarker){
                    clickedMarker.setIcon(baseIcon);
                }

                clickedMarker = activite.getLayer(id);
                clickedMarker.setIcon(activeIcon);

                sidepanel.classList.add('active')
                sideFilterpanel.classList.remove('active')

                LlistBtn.style.display = 'block'

                Ltitle.innerHTML = `${clickedMarker.feature.properties.name}`
                LtitleRsp.innerHTML = `${feature.properties.name}`
                Limage.src = `${clickedMarker.feature.properties.image}`
                Ladress.innerHTML = `${clickedMarker.feature.properties.adress}`
                Lphone.innerHTML = `${clickedMarker.feature.properties.phone}`
                Lwebsite.href = `${clickedMarker.feature.properties.website}`
            })

            // set map view
            if(window.innerWidth >= 1024){
                mymap.setViewOffset([45.6284600, -1.0281000],[-100, 0],12, {animation : true})
            } else{
                mymap.setViewOffset([45.6284600, -1.0281000],[0, -70],10, {animation : true})
            }

            // reset if active marker
            if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
            }

            // Make icon ative
            filterActiviteIcon.classList.toggle('active')
            // remove active form other panel
            filterRestaurationIcon.classList.remove('active')
            filterHebergementIcon.classList.remove('active')
            filterServiceIcon.classList.remove('active')

            // filter layer on the map
            if(filterActiviteIcon.classList.contains('active')){
                mymap.addLayer(activite)
                mymap.removeLayer(service)
                mymap.removeLayer(restauration)
                mymap.removeLayer(hebergement)
                mymap.removeLayer(other)
            } else {
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(other)
                mymap.addLayer(activite)
            }

            // close menu 
            const closeMenuList = document.querySelector('.LcloseMenuList')

            closeMenuList.addEventListener("click", function(e){
                sidepanel.classList.remove('active');
                sideFilterpanel.classList.remove('active');
                filterActiviteIcon.classList.remove('active')
                //reset marker
                if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
                }
                
                mymap.addLayer(other)
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(activite)
            })
        })

        
        //Filter left pannel RESTAURATION

        filterRestaurationIcon.addEventListener("click", function(){
            // list panel open remove other
            sideFilterpanel.classList.toggle('active')

            if(filterHebergementIcon.classList.contains('active') || filterActiviteIcon.classList.contains('active') || filterServiceIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
                sideFilterpanel.classList.add('active')
            }
            if(filterRestaurationIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
            }

            // remove shop info
            sidepanel.classList.remove('active')

            // set inner panel html
            sideFilterpanel.innerHTML =`
                <div class="LsideFilterpanelInner">
                    <div class="Lheader">
                        <svg class="LcloseMenuList" width="20" height="20" viewBox="0 0 123 123" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="19.7809" y="0.688812" width="145" height="27" rx="13.5" transform="rotate(45 19.7809 0.688812)" fill="#4D4949"/>
                        <rect x="1.00012" y="102.53" width="145" height="27" rx="13.5" transform="rotate(-45 1.00012 102.53)" fill="#4D4949"/>
                        </svg>
                    </div>
                    <div class="Llist">
                        <div class="LfilterRestauration">Pause gourmande</div>
                        <div class="LrestaurationList">
                        </div>
                    </div
                </div>
            `

            // populate data inside the panel
            const LrestaurationList = document.querySelector('.LrestaurationList')
            const restaurationData = Object.values(restauration._layers)
        
            const listrestauration = restaurationData.forEach((layer)=>{
                if(layer.feature.properties.category == 'restauration'){
                    let companyName = `
                    <div class="LlistItem" 
                    id='${layer._leaflet_id}' 
                    long='${layer.feature.geometry.coordinates[0]}'
                    lat='${layer.feature.geometry.coordinates[1]}'
                    
                    >
                    ${layer.feature.properties.name}
                    </div>`
                    
                    
                    let box = document.createElement('div');
                    box.innerHTML = companyName;
                    LrestaurationList.append(box)
                }
            })

            //select item on click
            LrestaurationList.addEventListener('click', function(event){
                event.stopPropagation()
                const lat = event.target.getAttribute('lat')
                const long = event.target.getAttribute('long')
                const id = Number(event.target.getAttribute('id'))

                mymap.setViewOffset([lat, long],[-120, 0],12, {animation : true})                

                if(clickedMarker){
                    clickedMarker.setIcon(baseIcon);
                }

                clickedMarker = restauration.getLayer(id);
                clickedMarker.setIcon(activeIcon);

                sidepanel.classList.add('active')
                sideFilterpanel.classList.remove('active')

                LlistBtn.style.display = 'block'

                Ltitle.innerHTML = `${clickedMarker.feature.properties.name}`
                LtitleRsp.innerHTML = `${feature.properties.name}`
                Limage.src = `${clickedMarker.feature.properties.image}`
                Ladress.innerHTML = `${clickedMarker.feature.properties.adress}`
                Lphone.innerHTML = `${clickedMarker.feature.properties.phone}`
                Lwebsite.href = `${clickedMarker.feature.properties.website}`

            })

            // set map view
            if(window.innerWidth >= 1024){
                mymap.setViewOffset([45.6284600, -1.0281000],[-100, 0],12, {animation : true})
            } else{
                mymap.setViewOffset([45.6284600, -1.0281000],[0, -70],10, {animation : true})
            }

            // reset if active marker
            if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
            }

            // layer.setIcon(baseIcon)
            filterRestaurationIcon.classList.toggle('active')
            // remove active form other panel
            filterActiviteIcon.classList.remove('active')
            filterHebergementIcon.classList.remove('active')
            filterServiceIcon.classList.remove('active')

            if(filterRestaurationIcon.classList.contains('active')){
                mymap.addLayer(restauration)
                mymap.removeLayer(service)
                mymap.removeLayer(activite)
                mymap.removeLayer(hebergement)
                mymap.removeLayer(other)
            } else {
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(other)
                mymap.addLayer(activite)
            }

            // close menu 
            const closeMenuList = document.querySelector('.LcloseMenuList')
            closeMenuList.addEventListener("click", function(e){
                sidepanel.classList.remove('active');
                sideFilterpanel.classList.remove('active');
                filterRestaurationIcon.classList.remove('active')
                //reset marker
                if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
                }
                
                mymap.addLayer(other)
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(activite)
            })
        })

        // filter left panel HEBERGEMENT

        filterHebergementIcon.addEventListener("click", function(){
           /// list panel open remove other
            sideFilterpanel.classList.toggle('active')

            if(filterRestaurationIcon.classList.contains('active') || filterActiviteIcon.classList.contains('active') || filterServiceIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
                sideFilterpanel.classList.add('active')
            }
            if(filterHebergementIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
            }

            // remove shop info
            sidepanel.classList.remove('active')
            // set inner panel html
            sideFilterpanel.innerHTML =`
                <div class="LsideFilterpanelInner">
                    <div class="Lheader">
                        <svg class="LcloseMenuList" width="20" height="20" viewBox="0 0 123 123" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="19.7809" y="0.688812" width="145" height="27" rx="13.5" transform="rotate(45 19.7809 0.688812)" fill="#4D4949"/>
                        <rect x="1.00012" y="102.53" width="145" height="27" rx="13.5" transform="rotate(-45 1.00012 102.53)" fill="#4D4949"/>
                        </svg>
                    </div>
                    <div class="Llist">
                        <div class="LfilterHebergement">Les hébergement</div>
                        <div class="LhebergementList">
                        </div>
                    </div
                </div>
            `

            // populate data inside the panel
            const LhebergementList = document.querySelector('.LhebergementList')
            const hebergementData = Object.values(hebergement._layers)
        
            const listHebergement = hebergementData.forEach((layer)=>{
                if(layer.feature.properties.category == 'hebergement'){
                    let companyName = `
                    <div class="LlistItem" 
                    id='${layer._leaflet_id}' 
                    long='${layer.feature.geometry.coordinates[0]}'
                    lat='${layer.feature.geometry.coordinates[1]}'
                    
                    >
                    ${layer.feature.properties.name}
                    </div>`
                    
                    
                    let box = document.createElement('div');
                    box.innerHTML = companyName;
                    LhebergementList.append(box)
                }
            })

            //select item on click
            LhebergementList.addEventListener('click', function(event){
                event.stopPropagation()
                const lat = event.target.getAttribute('lat')
                const long = event.target.getAttribute('long')
                const id = Number(event.target.getAttribute('id'))

                mymap.setViewOffset([lat, long],[-120, 0],12, {animation : true})                

                if(clickedMarker){
                    clickedMarker.setIcon(baseIcon);
                }

                clickedMarker = hebergement.getLayer(id);
                clickedMarker.setIcon(activeIcon);

                sidepanel.classList.add('active')
                sideFilterpanel.classList.remove('active')

                LlistBtn.style.display = 'block'

                Ltitle.innerHTML = `${clickedMarker.feature.properties.name}`
                LtitleRsp.innerHTML = `${feature.properties.name}`
                Limage.src = `${clickedMarker.feature.properties.image}`
                Ladress.innerHTML = `${clickedMarker.feature.properties.adress}`
                Lphone.innerHTML = `${clickedMarker.feature.properties.phone}`
                Lwebsite.href = `${clickedMarker.feature.properties.website}`

            })

            // set map view
            if(window.innerWidth >= 1024){
                mymap.setViewOffset([45.6284600, -1.0281000],[-100, 0],12, {animation : true})
            } else{
                mymap.setViewOffset([45.6284600, -1.0281000],[0, -70],10, {animation : true})
            }

            // reset if active marker
            if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
            }

            // layer.setIcon(baseIcon)
            filterHebergementIcon.classList.toggle('active')
            // remove active form other panel
            filterActiviteIcon.classList.remove('active')
            filterRestaurationIcon.classList.remove('active')
            filterServiceIcon.classList.remove('active')

            if(filterHebergementIcon.classList.contains('active')){
                mymap.addLayer(hebergement)
                mymap.removeLayer(service)
                mymap.removeLayer(activite)
                mymap.removeLayer(restauration)
                mymap.removeLayer(other)
            } else {
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(other)
                mymap.addLayer(activite)
            }

            // close menu 
            const closeMenuList = document.querySelector('.LcloseMenuList')
            closeMenuList.addEventListener("click", function(e){
                sidepanel.classList.remove('active')
                sideFilterpanel.classList.remove('active')
                filterHebergementIcon.classList.remove('active')
                //reset marker
                if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
                }
                
                mymap.addLayer(other)
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(activite)
            })
        })

        // filter left panel Service

        filterServiceIcon.addEventListener("click", function(){
            // list panel open remove other
            sideFilterpanel.classList.toggle('active')

            if(filterRestaurationIcon.classList.contains('active') || filterActiviteIcon.classList.contains('active') || filterHebergementIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
                sideFilterpanel.classList.add('active')
            }
            if(filterServiceIcon.classList.contains('active')){
                sideFilterpanel.classList.remove('active')
            }

            // remove shop info
            sidepanel.classList.remove('active')
            // set inner panel html
            sideFilterpanel.innerHTML =`
                <div class="LsideFilterpanelInner">
                    <div class="Lheader">
                        <svg class="LcloseMenuList" width="20" height="20" viewBox="0 0 123 123" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="19.7809" y="0.688812" width="145" height="27" rx="13.5" transform="rotate(45 19.7809 0.688812)" fill="#4D4949"/>
                        <rect x="1.00012" y="102.53" width="145" height="27" rx="13.5" transform="rotate(-45 1.00012 102.53)" fill="#4D4949"/>
                        </svg>
                    </div>
                    <div class="Llist">
                        <div class="LfilterService">Les commerces et services</div>
                        <div class="LserviceList">
                        </div>
                    </div
                </div>
            `

            // populate data inside the panel
            const LserviceList = document.querySelector('.LserviceList')
            const serviceData = Object.values(service._layers)
        
            const listService = serviceData.forEach((layer)=>{
                if(layer.feature.properties.category == 'service'){
                    let companyName = `
                    <div class="LlistItem" 
                    id='${layer._leaflet_id}' 
                    long='${layer.feature.geometry.coordinates[0]}'
                    lat='${layer.feature.geometry.coordinates[1]}'
                    
                    >
                    ${layer.feature.properties.name}
                    </div>`
                    
                    
                    let box = document.createElement('div');
                    box.innerHTML = companyName;
                    LserviceList.append(box)
                }
            })

            //select item on click
            LserviceList.addEventListener('click', function(event){
                event.stopPropagation()
                const lat = event.target.getAttribute('lat')
                const long = event.target.getAttribute('long')
                const id = Number(event.target.getAttribute('id'))

                mymap.setViewOffset([lat, long],[-120, 0],12, {animation : true})                

                if(clickedMarker){
                    clickedMarker.setIcon(baseIcon);
                }

                clickedMarker = service.getLayer(id);
                clickedMarker.setIcon(activeIcon);

                sidepanel.classList.add('active')
                sideFilterpanel.classList.remove('active')

                LlistBtn.style.display = 'block'

                Ltitle.innerHTML = `${clickedMarker.feature.properties.name}`
                LtitleRsp.innerHTML = `${feature.properties.name}`
                Limage.src = `${clickedMarker.feature.properties.image}`
                Ladress.innerHTML = `${clickedMarker.feature.properties.adress}`
                Lphone.innerHTML = `${clickedMarker.feature.properties.phone}`
                Lwebsite.href = `${clickedMarker.feature.properties.website}`

            })

            // set map view
            if(window.innerWidth >= 1024){
                mymap.setViewOffset([45.6284600, -1.0281000],[-100, 0],12, {animation : true})
            } else{
                mymap.setViewOffset([45.6284600, -1.0281000],[0, -70],10, {animation : true})
            }

            // reset if active marker
            if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
            }

            // layer.setIcon(baseIcon)
            filterServiceIcon.classList.toggle('active')
            // remove active form other panel
            filterActiviteIcon.classList.remove('active')
            filterRestaurationIcon.classList.remove('active')
            filterHebergementIcon.classList.remove('active')

            if(filterServiceIcon.classList.contains('active')){
                mymap.addLayer(service)
                mymap.removeLayer(hebergement)
                mymap.removeLayer(activite)
                mymap.removeLayer(restauration)
                mymap.removeLayer(other)
            } else {
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(other)
                mymap.addLayer(activite)
            }

            // close menu 
            const closeMenuList = document.querySelector('.LcloseMenuList')
            closeMenuList.addEventListener("click", function(e){
                sidepanel.classList.remove('active')
                sideFilterpanel.classList.remove('active')
                filterServiceIcon.classList.remove('active')
                //reset marker
                if (clickedMarker){
                clickedMarker.setIcon(baseIcon)
                }
                
                mymap.addLayer(other)
                mymap.addLayer(service)
                mymap.addLayer(restauration)
                mymap.addLayer(hebergement)
                mymap.addLayer(activite)
            })
        })

        
        const service = L.geoJson(geojson, {
            filter: function(feature, layer) {
                return feature.properties.category == "service";
            },
            style : function(features){
                return{
                    color : '#4B65F7',
                    weight : 0.5,
                }
            },
            pointToLayer : function(geoJsonPoint, latlng){
                    return L.marker(latlng,{
                    icon : baseIcon,
                    });
            },
            onEachFeature : eachFeatureCode,
        })

        const restauration = L.geoJson(geojson, {
            filter: function(feature, layer) {
                return feature.properties.category == "restauration";
            },
            style : function(features){
                return{
                    color : '#4B65F7',
                    weight : 0.5,
                }
            },
            pointToLayer : function(geoJsonPoint, latlng){
                    return L.marker(latlng,{
                    icon : baseIcon,
                    });
            },
            onEachFeature : eachFeatureCode,
        })

        const hebergement = L.geoJson(geojson, {
            filter: function(feature, layer) {
                return feature.properties.category == "hebergement";
            },
            style : function(features){
                return{
                    color : '#4B65F7',
                    weight : 0.5,
                }
            },
            pointToLayer : function(geoJsonPoint, latlng){
                    return L.marker(latlng,{
                    icon : baseIcon,
                    });
            },
            onEachFeature : eachFeatureCode,
        })

        const activite = L.geoJson(geojson, {
            filter: function(feature, layer) {
                return feature.properties.category == "activite";
            },
            style : function(features){
                return{
                    color : '#4B65F7',
                    weight : 0.5,
                }
            },
            pointToLayer : function(geoJsonPoint, latlng){
                    return L.marker(latlng,{
                    icon : baseIcon,
                    });
            },
            onEachFeature : eachFeatureCode,
        })

        const other = L.geoJson(geojson, {
            filter: function(feature, layer) {
                return feature.properties.category == "";
            },
            style : function(features){
                return{
                    color : '#4B65F7',
                    weight : 0.5,
                }
            },
            pointToLayer : function(geoJsonPoint, latlng){
                    return L.marker(latlng,{
                    icon : baseIcon,
                    });
            },
            onEachFeature : eachFeatureCode,
        })
        service.addTo(mymap)
        restauration.addTo(mymap)
        hebergement.addTo(mymap)
        activite.addTo(mymap)
        other.addTo(mymap)
    })
    .catch(err => console.log(err))

</script>

</html>